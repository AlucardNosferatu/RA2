<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Ares: Interface Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Ares</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a>  </div>
  <div class="headertitle">
<h1>Interface Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Interface" -->
<p><code>#include &lt;src/Misc/Interface.h&gt;</code></p>

<p><a href="class_interface-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_interface_1_1_campaign_data.html">CampaignData</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_interface_1_1_color_data.html">ColorData</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_interface_1_1_menu_item.html">MenuItem</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8">eUIAction</a> { <br/>
&#160;&#160;<a class="el" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8adca691b455e8cc325e99e0a419e6f930">uia_Default</a> =  0, 
<a class="el" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8a78d7d2904e6f522f3792476afc02df9e">uia_Message</a> =  1, 
<a class="el" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8a56ef67f407373a3bca4e7d7b24fb1bf0">uia_Disable</a> =  2, 
<a class="el" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8ad25185546a32264f0fe7472ec6930cf5">uia_Hide</a> =  3, 
<br/>
&#160;&#160;<a class="el" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8adac432868bdc0b387207850d0d8d2fcb">uia_SneakPeek</a> =  13, 
<a class="el" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8a4f025b8bf6f56eadac2b1959c1ebdfe1">uia_Credits</a> =  15
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface.html#a29469229f9f110ab0376526fbb355034">invokeClickAction</a> (<a class="el" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8">eUIAction</a>, char *, int *, int)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Overrides the default action and queue the user defined one.  <a href="#a29469229f9f110ab0376526fbb355034"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface.html#a2e7a9ea347a62716e1a10d0c0cb2658f">updateMenuItems</a> (HWND, <a class="el" href="struct_interface_1_1_menu_item.html">MenuItem</a> *, int)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables, hides and moves menu items so there are no gaps in the menu navigation.  <a href="#a2e7a9ea347a62716e1a10d0c0cb2658f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface.html#ae31fe180d02be93387d2c86c97e1d99b">updateMenu</a> (HWND hDlg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the dialogs after creation to better fit the user's needs.  <a href="#ae31fe180d02be93387d2c86c97e1d99b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8">eUIAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface.html#ad2e022316fa8bda88df3f9307db5cbc8">parseUIAction</a> (char *, <a class="el" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8">eUIAction</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses an eUIAction from a string.  <a href="#ad2e022316fa8bda88df3f9307db5cbc8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface.html#a92aab7f146552682cf202952e6d06246">getSlotIndex</a> (int)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a control ID to its corresponding index in slots.  <a href="#a92aab7f146552682cf202952e6d06246"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface.html#a28f4dd7f401c4d9fab6cc32df148abb9">lastDialogTemplateID</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface.html#a9b18cbec245e7bab0bb635396c9cc5be">nextReturnMenu</a> = -1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface.html#ab15dda69c4e9c6d29fd2e0eb886b2503">nextAction</a> = -1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const wchar_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface.html#a2e5779887cdacf4b61c14fbc3a2b7d29">nextMessageText</a> = NULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface.html#aa45586569accd76c38aac50e59e82807">slots</a> [4]</td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface.html#a794f8a374473dc27aea63e018dfc65b9">Interface</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface.html#a47218e5bcdd851326d8a2e9351a7f10c">~Interface</a> (void)</td></tr>
<tr><td colspan="2"><h2><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface.html#a7583b9db7e79b48b46af0714d03b0e81">moveItem</a> (HWND, RECT, POINT)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves a menu item to a new location using an optional offset.  <a href="#a7583b9db7e79b48b46af0714d03b0e81"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface.html#aa1dae5ea6c8690a6f2197ba9604735a3">swapItems</a> (HWND, int, int)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Swaps the bounds of two dialog items.  <a href="#aa1dae5ea6c8690a6f2197ba9604735a3"></a><br/></td></tr>
</table>
<hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a99112e54d376b288db8e98b7a189b2f8"></a><!-- doxytag: member="Interface::eUIAction" ref="a99112e54d376b288db8e98b7a189b2f8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8">Interface::eUIAction</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a99112e54d376b288db8e98b7a189b2f8adca691b455e8cc325e99e0a419e6f930"></a><!-- doxytag: member="uia_Default" ref="a99112e54d376b288db8e98b7a189b2f8adca691b455e8cc325e99e0a419e6f930" args="" -->uia_Default</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a99112e54d376b288db8e98b7a189b2f8a78d7d2904e6f522f3792476afc02df9e"></a><!-- doxytag: member="uia_Message" ref="a99112e54d376b288db8e98b7a189b2f8a78d7d2904e6f522f3792476afc02df9e" args="" -->uia_Message</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a99112e54d376b288db8e98b7a189b2f8a56ef67f407373a3bca4e7d7b24fb1bf0"></a><!-- doxytag: member="uia_Disable" ref="a99112e54d376b288db8e98b7a189b2f8a56ef67f407373a3bca4e7d7b24fb1bf0" args="" -->uia_Disable</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a99112e54d376b288db8e98b7a189b2f8ad25185546a32264f0fe7472ec6930cf5"></a><!-- doxytag: member="uia_Hide" ref="a99112e54d376b288db8e98b7a189b2f8ad25185546a32264f0fe7472ec6930cf5" args="" -->uia_Hide</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a99112e54d376b288db8e98b7a189b2f8adac432868bdc0b387207850d0d8d2fcb"></a><!-- doxytag: member="uia_SneakPeek" ref="a99112e54d376b288db8e98b7a189b2f8adac432868bdc0b387207850d0d8d2fcb" args="" -->uia_SneakPeek</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a99112e54d376b288db8e98b7a189b2f8a4f025b8bf6f56eadac2b1959c1ebdfe1"></a><!-- doxytag: member="uia_Credits" ref="a99112e54d376b288db8e98b7a189b2f8a4f025b8bf6f56eadac2b1959c1ebdfe1" args="" -->uia_Credits</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>
<div class="fragment"><pre class="fragment">                       {
                <a class="code" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8adca691b455e8cc325e99e0a419e6f930">uia_Default</a> = 0,
                <a class="code" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8a78d7d2904e6f522f3792476afc02df9e">uia_Message</a> = 1,
                <a class="code" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8a56ef67f407373a3bca4e7d7b24fb1bf0">uia_Disable</a> = 2,
                <a class="code" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8ad25185546a32264f0fe7472ec6930cf5">uia_Hide</a> = 3,
                <a class="code" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8adac432868bdc0b387207850d0d8d2fcb">uia_SneakPeek</a> = 13,
                <a class="code" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8a4f025b8bf6f56eadac2b1959c1ebdfe1">uia_Credits</a> = 15
        };
</pre></div>
</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a794f8a374473dc27aea63e018dfc65b9"></a><!-- doxytag: member="Interface::Interface" ref="a794f8a374473dc27aea63e018dfc65b9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Interface::Interface </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a47218e5bcdd851326d8a2e9351a7f10c"></a><!-- doxytag: member="Interface::~Interface" ref="a47218e5bcdd851326d8a2e9351a7f10c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Interface::~Interface </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a92aab7f146552682cf202952e6d06246"></a><!-- doxytag: member="Interface::getSlotIndex" ref="a92aab7f146552682cf202952e6d06246" args="(int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Interface::getSlotIndex </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iID</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Converts a control ID to its corresponding index in slots. </p>
<p>Converts an control ID to a slot index.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">iID</td><td>The control ID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The index in the slot array.</dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>AlexB </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>2010-06-20 </dd></dl>
<div class="fragment"><pre class="fragment">                                   {
        <span class="keywordflow">if</span>(iID == 1770) {
                <span class="keywordflow">return</span> 0;
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iID == 1772) {
                <span class="keywordflow">return</span> 1;
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iID == 1771) {
                <span class="keywordflow">return</span> 2;
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (iID == 1773) {
                <span class="keywordflow">return</span> 3;
        }
        <span class="keywordflow">return</span> -1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a29469229f9f110ab0376526fbb355034"></a><!-- doxytag: member="Interface::invokeClickAction" ref="a29469229f9f110ab0376526fbb355034" args="(eUIAction, char *, int *, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Interface::invokeClickAction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8">eUIAction</a>&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>pResult</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nextMenu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Overrides the default action and queue the user defined one. </p>
<p>Called from within the button click event to override the game's default action. Sets the user defined action and/or the message.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">action</td><td>The eUIAction to perform. </td></tr>
    <tr><td class="paramname">name</td><td>The button name to get the message string of. </td></tr>
    <tr><td class="paramname">pResult</td><td>A pointer to the game dialog's user info. </td></tr>
    <tr><td class="paramname">nextMenu</td><td>The menu to go to after showing the message.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if action has been overridden, false otherwise.</dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>AlexB </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>2010-06-20 </dd></dl>
<div class="fragment"><pre class="fragment">                                                                                          {
        <span class="comment">// reset</span>
        <a class="code" href="class_interface.html#ab15dda69c4e9c6d29fd2e0eb886b2503">nextAction</a> = -1;
        <a class="code" href="class_interface.html#a9b18cbec245e7bab0bb635396c9cc5be">nextReturnMenu</a> = -1;
        <a class="code" href="class_interface.html#a2e5779887cdacf4b61c14fbc3a2b7d29">nextMessageText</a> = NULL;

        <span class="keyword">auto</span> ret = [&amp;](<span class="keywordtype">int</span> _nextAction) -&gt; <span class="keywordtype">bool</span> {
                *pResult = <a class="code" href="class_interface.html#ab15dda69c4e9c6d29fd2e0eb886b2503">nextAction</a> = _nextAction;
                <a class="code" href="class_interface.html#a9b18cbec245e7bab0bb635396c9cc5be">nextReturnMenu</a> = nextMenu;
                <span class="keywordflow">return</span> (_nextAction &gt; -1);
        };

        <span class="keywordflow">if</span>(action == <a class="code" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8a78d7d2904e6f522f3792476afc02df9e">Interface::uia_Message</a>) {
                <span class="comment">// generate the label name</span>
                <span class="keywordtype">char</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">char</span>[0x20];
                StringCchPrintfA(buffer, 0x20, <span class="stringliteral">&quot;TXT_%s_MSG&quot;</span>, name);
                <a class="code" href="class_interface.html#a2e5779887cdacf4b61c14fbc3a2b7d29">nextMessageText</a> = StringTable::LoadStringA(buffer);
                <span class="keyword">delete</span> [] &amp;buffer;

                <span class="comment">// hide dialog temporarily and show a message box</span>
                <span class="keywordflow">return</span> ret(6);
        }

        <span class="keywordflow">if</span>(action == <a class="code" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8adac432868bdc0b387207850d0d8d2fcb">Interface::uia_SneakPeek</a>) {
                <span class="comment">// show the preview video</span>
                <span class="keywordflow">return</span> ret(13);
        }

        <span class="keywordflow">if</span>(action == <a class="code" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8a4f025b8bf6f56eadac2b1959c1ebdfe1">Interface::uia_Credits</a>) {
                <span class="comment">// show the credits</span>
                <span class="keywordflow">return</span> ret(15);
        }

        <span class="comment">// do default stuff</span>
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7583b9db7e79b48b46af0714d03b0e81"></a><!-- doxytag: member="Interface::moveItem" ref="a7583b9db7e79b48b46af0714d03b0e81" args="(HWND, RECT, POINT)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Interface::moveItem </td>
          <td>(</td>
          <td class="paramtype">HWND&#160;</td>
          <td class="paramname"><em>hItem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RECT&#160;</td>
          <td class="paramname"><em>rcItem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">POINT&#160;</td>
          <td class="paramname"><em>ptOffset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Moves a menu item to a new location using an optional offset. </p>
<p>Helper function to move an dialog item and offset in one go. The offset is needed to account for non-client areas of the windowed game.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">hItem</td><td>Handle of the item to update. </td></tr>
    <tr><td class="paramname">rcItem</td><td>The item's new bounds. </td></tr>
    <tr><td class="paramname">ptOffset</td><td>Special offset.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>AlexB </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>2010-06-20 </dd></dl>
<div class="fragment"><pre class="fragment">                                                                {
        OffsetRect(&amp;rcItem, ptOffset.x, ptOffset.y);
        MoveWindow(hItem, rcItem.left, rcItem.top, 
                rcItem.right - rcItem.left, rcItem.bottom - rcItem.top, <span class="keyword">false</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad2e022316fa8bda88df3f9307db5cbc8"></a><!-- doxytag: member="Interface::parseUIAction" ref="ad2e022316fa8bda88df3f9307db5cbc8" args="(char *, eUIAction)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8">Interface::eUIAction</a> Interface::parseUIAction </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8">Interface::eUIAction</a>&#160;</td>
          <td class="paramname"><em>def</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Parses an eUIAction from a string. </p>
<p>Converts the string to an eUIAction.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>The string to parse. </td></tr>
    <tr><td class="paramname">def</td><td>The eUIAction returned for invalid values.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Parsed eUIAction if value is valid, def otherwise.</dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>AlexB </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>2010-06-20 </dd></dl>
<div class="fragment"><pre class="fragment">                                                                               {
        <span class="keywordflow">if</span>(!_strcmpi(value, <span class="stringliteral">&quot;message&quot;</span>)) {
                <span class="keywordflow">return</span> <a class="code" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8a78d7d2904e6f522f3792476afc02df9e">Interface::uia_Message</a>;
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!_strcmpi(value, <span class="stringliteral">&quot;disable&quot;</span>)) {
                <span class="keywordflow">return</span> <a class="code" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8a56ef67f407373a3bca4e7d7b24fb1bf0">Interface::uia_Disable</a>;
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!_strcmpi(value, <span class="stringliteral">&quot;hide&quot;</span>)) {
                <span class="keywordflow">return</span> <a class="code" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8ad25185546a32264f0fe7472ec6930cf5">Interface::uia_Hide</a>;
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!_strcmpi(value, <span class="stringliteral">&quot;credits&quot;</span>)) {
                <span class="keywordflow">return</span> <a class="code" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8a4f025b8bf6f56eadac2b1959c1ebdfe1">Interface::uia_Credits</a>;
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!_strcmpi(value, <span class="stringliteral">&quot;sneakpeek&quot;</span>)) {
                <span class="keywordflow">return</span> <a class="code" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8adac432868bdc0b387207850d0d8d2fcb">Interface::uia_SneakPeek</a>;
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(_strcmpi(value, <span class="stringliteral">&quot;default&quot;</span>)) {
                <a class="code" href="class_debug.html#a4dcfff56d6e69bd62771feadb91014de">Debug::DevLog</a>(<a class="code" href="class_debug.html#a38f58dd0c1bec9042ead4a8eea1f3db1a5f9964e5d1d0c948704f783d10ce46c4">Debug::Warning</a>, <span class="stringliteral">&quot;Unrecognized UI action value: %s\n&quot;</span>, value);
        }
        <span class="keywordflow">return</span> def;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa1dae5ea6c8690a6f2197ba9604735a3"></a><!-- doxytag: member="Interface::swapItems" ref="aa1dae5ea6c8690a6f2197ba9604735a3" args="(HWND, int, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Interface::swapItems </td>
          <td>(</td>
          <td class="paramtype">HWND&#160;</td>
          <td class="paramname"><em>hDlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nIDDlgItem1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nIDDlgItem2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Swaps the bounds of two dialog items. </p>
<p>Both button's bounds are swapped. This can be used to fix unintuitive menu button order if some items are hidden.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">hDlg</td><td>The dialog to update. </td></tr>
    <tr><td class="paramname">nIDDlgItem1</td><td>Item one. </td></tr>
    <tr><td class="paramname">nIDDlgItem2</td><td>Item two.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>AlexB </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>2010-06-20 </dd></dl>
<div class="fragment"><pre class="fragment">                                                                     {
        HWND hFirst = GetDlgItem(hDlg, nIDDlgItem1);
        HWND hSecond = GetDlgItem(hDlg, nIDDlgItem2);

        <span class="keywordflow">if</span>(hFirst &amp;&amp; hSecond) {
                RECT rcFirst, rcSecond;
                <span class="keywordflow">if</span>(GetWindowRect(hFirst, &amp;rcFirst) &amp;&amp; GetWindowRect(hSecond, &amp;rcSecond)) {
                        POINT ptDlg = {0, 0};
                        ScreenToClient(hDlg, &amp;ptDlg);
                        <a class="code" href="class_interface.html#a7583b9db7e79b48b46af0714d03b0e81" title="Moves a menu item to a new location using an optional offset.">moveItem</a>(hFirst, rcSecond, ptDlg);
                        <a class="code" href="class_interface.html#a7583b9db7e79b48b46af0714d03b0e81" title="Moves a menu item to a new location using an optional offset.">moveItem</a>(hSecond, rcFirst, ptDlg);
                }
        }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae31fe180d02be93387d2c86c97e1d99b"></a><!-- doxytag: member="Interface::updateMenu" ref="ae31fe180d02be93387d2c86c97e1d99b" args="(HWND hDlg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Interface::updateMenu </td>
          <td>(</td>
          <td class="paramtype">HWND&#160;</td>
          <td class="paramname"><em>hDlg</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Updates the dialogs after creation to better fit the user's needs. </p>
<p>This function does dialog dependent stuff. Some controls are moved, or disabled, new <a class="el" href="class_ares.html">Ares</a> controls are hidden if not explicitly enabled.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">hDlg</td><td>The dialog to update.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>AlexB </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>2010-06-20 </dd></dl>
<div class="fragment"><pre class="fragment">                                    {
        <span class="keywordtype">int</span> iID = <a class="code" href="class_interface.html#a28f4dd7f401c4d9fab6cc32df148abb9">Interface::lastDialogTemplateID</a>;

        <span class="comment">// campaign selection</span>
        <span class="keywordflow">if</span>(iID == 148) {
                <span class="comment">// hide item by iID</span>
                <span class="keyword">auto</span> hide = [hDlg](<span class="keywordtype">int</span> nIDDlgItem) {
                        <span class="keywordflow">if</span>(HWND hItem = GetDlgItem(hDlg, nIDDlgItem)) {
                                ShowWindow(hItem, SW_HIDE);
                        }
                };

                <span class="comment">// show item by iID</span>
                <span class="keyword">auto</span> show = [hDlg](<span class="keywordtype">int</span> nIDDlgItem) {
                        <span class="keywordflow">if</span>(HWND hItem = GetDlgItem(hDlg, nIDDlgItem)) {
                                ShowWindow(hItem, SW_SHOW);
                        }
                };

                <span class="comment">// move item by some pixels</span>
                <span class="keyword">auto</span> offset = [hDlg](<span class="keywordtype">int</span> nIDDlgItem, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y) {
                        <span class="keywordflow">if</span>(HWND hItem = GetDlgItem(hDlg, nIDDlgItem)) {
                                POINT ptDlg = {0, 0};
                                ScreenToClient(hDlg, &amp;ptDlg);

                                RECT rcItem;
                                GetWindowRect(hItem, &amp;rcItem);

                                OffsetRect(&amp;rcItem, x, y);
                                <a class="code" href="class_interface.html#a7583b9db7e79b48b46af0714d03b0e81" title="Moves a menu item to a new location using an optional offset.">moveItem</a>(hItem, rcItem, ptDlg);
                        }
                };

                POINT ptDlg = {0, 0};
                ScreenToClient(hDlg, &amp;ptDlg);

                <span class="comment">// new campaign list versus default click selection</span>
                <span class="keywordflow">if</span>(<a class="code" href="class_ares_1_1_u_i_settings.html#a82d65abeeb3ca0da2244b697a59ed1d3">Ares::UISettings::CampaignList</a>) {
                        <span class="keywordflow">if</span>(HWND hItem = GetDlgItem(hDlg, 1109)) {
                                <span class="comment">// extensive stuff</span>
                                show(1109);
                                show(1038);
                                hide(1770);
                                hide(1772);
                                hide(1771);
                                hide(1773);

                                <span class="comment">// use the position of the Allied button to place the</span>
                                <span class="comment">// new campaign selection list.</span>
                                RECT rcItem = {125, 34, 125 + 174, 34 + 87};
                                <span class="keywordflow">if</span>(HWND hAllImage = GetDlgItem(hDlg, 1770)) {
                                        GetWindowRect(hAllImage, &amp;rcItem);
                                }
                                offset(1959, 0, -rcItem.bottom + rcItem.top);

                                <span class="comment">// center the list above the difficulty selection. the list may</span>
                                <span class="comment">// contain seven items, after that, a scroll bar will appear.</span>
                                <span class="comment">// acount for its width, too.</span>
                                <span class="keywordtype">int</span> offList = (<a class="code" href="class_campaign_ext.html#acdfecb82f900af6059671def905ad1fc">CampaignExt::countVisible</a>() &lt; 8 ? -2 : -12);
                                OffsetRect(&amp;rcItem, offList, 32);
                                <a class="code" href="class_interface.html#a7583b9db7e79b48b46af0714d03b0e81" title="Moves a menu item to a new location using an optional offset.">moveItem</a>(hItem, rcItem, ptDlg);
                        
                                <span class="comment">// let the Allied label be the caption</span>
                                <span class="keywordflow">if</span>(HWND hAllLabel = GetDlgItem(hDlg, 1959)) {
                                        SendMessageA(hAllLabel, 0x4B2, 0, (LPARAM)StringTable::LoadStringA(<span class="stringliteral">&quot;GUI:SelectCampaign&quot;</span>));
                                }

                                <span class="comment">// call the load button &quot;Play&quot;</span>
                                <span class="keywordflow">if</span>(HWND hLoad = GetDlgItem(hDlg, 1038)) {
                                        SendMessageA(hLoad, 0x4B2, 0, (LPARAM)StringTable::LoadStringA(<span class="stringliteral">&quot;GUI:Play&quot;</span>));
                                }

                                <span class="comment">// move the soviet label to a new location and reuse</span>
                                <span class="comment">// it to show the selected campaigns summary.</span>
                                <span class="keywordflow">if</span>(HWND hSovImage = GetDlgItem(hDlg, 1772)) {
                                        GetWindowRect(hSovImage, &amp;rcItem);
                                        <span class="keywordflow">if</span>(HWND hSovLabel = GetDlgItem(hDlg, 1960)) {
                                                <span class="comment">// remove default text and move label</span>
                                                SendMessageA(hSovLabel, 0x4B2, 0, (LPARAM)L<span class="stringliteral">&quot;&quot;</span>);
                                                <a class="code" href="class_interface.html#a7583b9db7e79b48b46af0714d03b0e81" title="Moves a menu item to a new location using an optional offset.">moveItem</a>(hSovLabel, rcItem, ptDlg);
                                        
                                                <span class="comment">// left align text</span>
                                                DWORD style = GetWindowLong(hSovLabel, GWL_STYLE);
                                                style = SS_LEFT | WS_CHILD | WS_VISIBLE;
                                                SetWindowLong(hSovLabel, GWL_STYLE, style);
                                        }
                                }

                                <span class="comment">// reset the selection cache</span>
                                <a class="code" href="class_campaign_ext.html#a6dbb228236c41becfa9270e9b20529a5">CampaignExt::lastSelectedCampaign</a> = -1;
                        }
                } <span class="keywordflow">else</span> {
                        <span class="comment">// default way with starting a campaign by clicking on its image.</span>

                        <span class="comment">// The allied image defines the image size.</span>
                        RECT rcItem = {125, 34, 125 + 174, 34 + 87};
                        <span class="keywordflow">if</span>(HWND hAllImage = GetDlgItem(hDlg, 1770)) {
                                GetWindowRect(hAllImage, &amp;rcItem);
                        }
                        SIZE szImage;
                        szImage.cx = (int)((rcItem.right - rcItem.left) * .8);
                        szImage.cy = (int)((rcItem.bottom - rcItem.top) * 1.0);

                        <span class="comment">// the soviet image&#39;s top is used for the second row</span>
                        RECT rcSovImage = {0, 216, 0, 0};
                        <span class="keywordflow">if</span>(HWND hSovImage = GetDlgItem(hDlg, 1772)) {
                                GetWindowRect(hSovImage, &amp;rcSovImage);
                        }
                        <span class="keywordtype">int</span> row2Offset = rcSovImage.top - rcItem.top;

                        <span class="comment">// call the load button &quot;Play&quot;</span>
                        <span class="keywordflow">if</span>(HWND hLoad = GetDlgItem(hDlg, 1038)) {
                                SendMessageA(hLoad, 0x4B2, 0, (LPARAM)StringTable::LoadStringA(<span class="stringliteral">&quot;GUI:PlayMission&quot;</span>));
                        }

                        <span class="comment">// position values</span>
                        RECT rcWidth = rcItem;
                        OffsetRect(&amp;rcWidth, ptDlg.x, ptDlg.y);
                        <span class="keywordtype">int</span> width = rcWidth.left + rcWidth.right;

                        <span class="keywordtype">int</span> lefts[3];
                        lefts[0] = (width - szImage.cx) / 2;
                        lefts[1] = (width - 2 * szImage.cx) / 3;
                        lefts[2] = width - lefts[1] - szImage.cx;

                        <span class="comment">// create seven slot rects</span>
                        <span class="keyword">auto</span> setRect = [&amp;](RECT *rcRect, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y) {
                                rcRect-&gt;left = x - ptDlg.x;
                                rcRect-&gt;top = y;
                                rcRect-&gt;right = rcRect-&gt;left + szImage.cx;
                                rcRect-&gt;bottom = rcRect-&gt;top + szImage.cy;
                        };

                        RECT *rcSlots = <span class="keyword">new</span> RECT[7];
                        setRect(&amp;rcSlots[0], lefts[0], rcItem.top);
                        setRect(&amp;rcSlots[1], lefts[0], rcItem.top + row2Offset);
                        setRect(&amp;rcSlots[2], lefts[1], rcItem.top);
                        setRect(&amp;rcSlots[3], lefts[2], rcItem.top);
                        setRect(&amp;rcSlots[4], lefts[1], rcItem.top + row2Offset);
                        setRect(&amp;rcSlots[5], lefts[2], rcItem.top + row2Offset);
                        setRect(&amp;rcSlots[6], -szImage.cx, -szImage.cy);

                        <span class="comment">// move the images to their new locations</span>
                        <span class="keyword">auto</span> fillSlot = [&amp;](<span class="keywordtype">int</span> iIDDlgItem, <span class="keywordtype">int</span> slot, <span class="keywordtype">int</span> iIDLabel) {
                                <span class="keywordflow">if</span>(HWND hItem = GetDlgItem(hDlg, iIDDlgItem)) {
                                        <a class="code" href="class_interface.html#a7583b9db7e79b48b46af0714d03b0e81" title="Moves a menu item to a new location using an optional offset.">moveItem</a>(hItem, rcSlots[slot], ptDlg);
                                }

                                <span class="keywordflow">if</span>(HWND hLabel = GetDlgItem(hDlg, iIDLabel)) {
                                        <span class="keywordflow">if</span>(slot &lt; 6) {
                                                RECT rcLabel = rcSlots[slot];
                                                OffsetRect(&amp;rcLabel, 0, (rcLabel.bottom - rcLabel.top));
                                                rcLabel.bottom = rcLabel.top + 20;

                                                <span class="comment">// make the subtitle a little wider</span>
                                                <span class="keywordtype">int</span> widen = (int)(slot &lt; 2 ? (width - rcLabel.right + rcLabel.left) / 2 : 15);
                                                rcLabel.left -= widen;
                                                rcLabel.right += widen;

                                                <a class="code" href="class_interface.html#a7583b9db7e79b48b46af0714d03b0e81" title="Moves a menu item to a new location using an optional offset.">moveItem</a>(hLabel, rcLabel, ptDlg);
                                                ShowWindow(hLabel, SW_SHOW);
                                        }
                                        <span class="keywordflow">else</span> {
                                                ShowWindow(hLabel, SW_HIDE);
                                        }
                                }
                        };

                        <span class="comment">// move image and label. auto-center, if there is no neighbour.</span>
                        <span class="keyword">auto</span> moveToPlace = [&amp;](<span class="keywordtype">int</span> iID, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> neighbour, <span class="keywordtype">int</span> slot, <span class="keywordtype">int</span> center, <span class="keywordtype">int</span> iIDLabel) {
                                <span class="keywordflow">if</span>(<a class="code" href="class_interface.html#aa45586569accd76c38aac50e59e82807">slots</a>[index]) {
                                        fillSlot(iID, (<a class="code" href="class_interface.html#aa45586569accd76c38aac50e59e82807">slots</a>[neighbour] ? slot : center), iIDLabel);
                                } <span class="keywordflow">else</span> {
                                        fillSlot(iID, 6, iIDLabel);
                                }
                        };

                        <span class="comment">// move click zones and labels</span>
                        moveToPlace(1770, 0, 1, 2, 0, 1959);
                        moveToPlace(1772, 1, 0, 3, 0, 1960);
                        moveToPlace(1771, 2, 3, 4, 1, 1961);
                        moveToPlace(1773, 3, 2, 5, 1, 1962);

                        <span class="keyword">delete</span> [] &amp;rcSlots;
                }
        }

        <span class="comment">// main menu</span>
        <span class="keywordflow">if</span>(iID == 226) {
                <span class="keyword">struct </span><a class="code" href="struct_interface_1_1_menu_item.html">Interface::MenuItem</a> items[] = {{0x683, <a class="code" href="class_ares_1_1_u_i_settings.html#a62210ff3dad5f62ef209dbf45f299606">Ares::UISettings::SinglePlayerButton</a>},
                        {0x684, <a class="code" href="class_ares_1_1_u_i_settings.html#a194ab3ba436af221cab5de5b4456929e">Ares::UISettings::WWOnlineButton</a>}, {0x578, <a class="code" href="class_ares_1_1_u_i_settings.html#a46585a921fd07e14f2ea6ca0c9d4c7d3">Ares::UISettings::NetworkButton</a>},
                        {0x686, <a class="code" href="class_ares_1_1_u_i_settings.html#a7cc2f39c8989e9e21e4d1f9a86523231">Ares::UISettings::MoviesAndCreditsButton</a>}, {0x55C, <a class="code" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8adca691b455e8cc325e99e0a419e6f930">Interface::uia_Default</a>}};
                <a class="code" href="class_interface.html#a2e7a9ea347a62716e1a10d0c0cb2658f" title="Disables, hides and moves menu items so there are no gaps in the menu navigation.">Interface::updateMenuItems</a>(hDlg, items, 5);
        }

        <span class="comment">// singleplayer menu</span>
        <span class="keywordflow">if</span>(iID == 256) {
                <span class="comment">// swap skirmish and load buttons so load will not appear first</span>
                <span class="keywordflow">if</span>(<a class="code" href="class_ares_1_1_u_i_settings.html#af33c0522299c8fcb08f3dc4d50b19ea3">Ares::UISettings::CampaignButton</a> != <a class="code" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8ad25185546a32264f0fe7472ec6930cf5">Interface::uia_Hide</a>) {
                        <span class="keyword">struct </span><a class="code" href="struct_interface_1_1_menu_item.html">Interface::MenuItem</a> items[] = {{1672, <a class="code" href="class_ares_1_1_u_i_settings.html#af33c0522299c8fcb08f3dc4d50b19ea3">Ares::UISettings::CampaignButton</a>},
                                {1673, <a class="code" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8adca691b455e8cc325e99e0a419e6f930">Interface::uia_Default</a>}, {1401, <a class="code" href="class_ares_1_1_u_i_settings.html#aacdae0fc3fca9da0461e62431d7770e7">Ares::UISettings::SkirmishButton</a>}};
                        <a class="code" href="class_interface.html#a2e7a9ea347a62716e1a10d0c0cb2658f" title="Disables, hides and moves menu items so there are no gaps in the menu navigation.">Interface::updateMenuItems</a>(hDlg, items, 3);
                } <span class="keywordflow">else</span> {
                        <a class="code" href="class_interface.html#aa1dae5ea6c8690a6f2197ba9604735a3" title="Swaps the bounds of two dialog items.">Interface::swapItems</a>(hDlg, 0x688, 0x579);
                        <span class="keyword">struct </span><a class="code" href="struct_interface_1_1_menu_item.html">Interface::MenuItem</a> items[] = {{1401, <a class="code" href="class_ares_1_1_u_i_settings.html#aacdae0fc3fca9da0461e62431d7770e7">Ares::UISettings::SkirmishButton</a>},
                                {1673, <a class="code" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8adca691b455e8cc325e99e0a419e6f930">Interface::uia_Default</a>}, {1672, <a class="code" href="class_ares_1_1_u_i_settings.html#af33c0522299c8fcb08f3dc4d50b19ea3">Ares::UISettings::CampaignButton</a>}};
                        <a class="code" href="class_interface.html#a2e7a9ea347a62716e1a10d0c0cb2658f" title="Disables, hides and moves menu items so there are no gaps in the menu navigation.">Interface::updateMenuItems</a>(hDlg, items, 3);
                }
        }

        <span class="comment">// movies and credits menu</span>
        <span class="keywordflow">if</span>(iID == 257) {
                <span class="keyword">struct </span><a class="code" href="struct_interface_1_1_menu_item.html">Interface::MenuItem</a> items[] = {{0x68D, <a class="code" href="class_ares_1_1_u_i_settings.html#a9b0ba5df8f56098806ae9dcaaf406de5">Ares::UISettings::SneakPeeksButton</a>},
                        {0x68E, <a class="code" href="class_ares_1_1_u_i_settings.html#a6496081482a2cd67612ffaf17e5eecea">Ares::UISettings::PlayMoviesButton</a>}, {0x68F, <a class="code" href="class_ares_1_1_u_i_settings.html#ae4cbb109afac2bdca1f144daa0c8b644">Ares::UISettings::ViewCreditsButton</a>}};
                <a class="code" href="class_interface.html#a2e7a9ea347a62716e1a10d0c0cb2658f" title="Disables, hides and moves menu items so there are no gaps in the menu navigation.">Interface::updateMenuItems</a>(hDlg, items, 3);
        }

        <span class="comment">// one-button message box</span>
        <span class="keywordflow">if</span>(iID == 206) {
                <span class="comment">// more room for text</span>
                <span class="keywordflow">if</span>(HWND hItem = GetDlgItem(hDlg, 0x5B0)) {
                        POINT ptDlg = {0, 0};
                        ScreenToClient(hDlg, &amp;ptDlg);

                        RECT rcItem;
                        GetWindowRect(hItem, &amp;rcItem);

                        rcItem.bottom = rcItem.top + 200;
                        <a class="code" href="class_interface.html#a7583b9db7e79b48b46af0714d03b0e81" title="Moves a menu item to a new location using an optional offset.">moveItem</a>(hItem, rcItem, ptDlg);
                }
        }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2e7a9ea347a62716e1a10d0c0cb2658f"></a><!-- doxytag: member="Interface::updateMenuItems" ref="a2e7a9ea347a62716e1a10d0c0cb2658f" args="(HWND, MenuItem *, int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Interface::updateMenuItems </td>
          <td>(</td>
          <td class="paramtype">HWND&#160;</td>
          <td class="paramname"><em>hDlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_interface_1_1_menu_item.html">MenuItem</a> *&#160;</td>
          <td class="paramname"><em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disables, hides and moves menu items so there are no gaps in the menu navigation. </p>
<p>Menu items will be disabled or hidden. For the latter, all succeeding items are moved to the next free position, closing all gaps.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">hDlg</td><td>The dialog to update. </td></tr>
    <tr><td class="paramname">items</td><td>An array of MenuItems to update. </td></tr>
    <tr><td class="paramname">count</td><td>Length of items.</td></tr>
  </table>
  </dd>
</dl>
<dl class="author"><dt><b>Author:</b></dt><dd>AlexB </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>2010-06-20 </dd></dl>
<div class="fragment"><pre class="fragment">                                                                     {
        <span class="comment">// account for dialog nc size</span>
        POINT ptDlg = {0, 0};
        ScreenToClient(hDlg, &amp;ptDlg);

        <span class="keywordtype">int</span> iButton = 0;
        RECT* rcOriginal = <span class="keyword">new</span> RECT[count];
        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;count; ++i) {
                <span class="keywordflow">if</span>(HWND hItem = GetDlgItem(hDlg, items[i].<a class="code" href="struct_interface_1_1_menu_item.html#a7e1a701de7c29d42355f67a0836375ed">nIDDlgItem</a>)) {
                        GetWindowRect(hItem, &amp;rcOriginal[i]);

                        <span class="keywordflow">if</span>(items[i].<a class="code" href="struct_interface_1_1_menu_item.html#a66cba18ce2fa404e372be6a68d5974f2">uiaAction</a> == <a class="code" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8ad25185546a32264f0fe7472ec6930cf5">Interface::uia_Hide</a>) {
                                <span class="comment">// hide the window</span>
                                ShowWindow(hItem, SW_HIDE);
                        } <span class="keywordflow">else</span> {
                                <span class="keywordflow">if</span>(items[i].<a class="code" href="struct_interface_1_1_menu_item.html#a66cba18ce2fa404e372be6a68d5974f2">uiaAction</a> == <a class="code" href="class_interface.html#a99112e54d376b288db8e98b7a189b2f8a56ef67f407373a3bca4e7d7b24fb1bf0">Interface::uia_Disable</a>) {
                                        <span class="comment">// disable the button</span>
                                        EnableWindow(hItem, <span class="keyword">false</span>);
                                }

                                <span class="keywordflow">if</span>(i != iButton) {
                                        <span class="comment">// move the button to the next free position</span>
                                        <a class="code" href="class_interface.html#a7583b9db7e79b48b46af0714d03b0e81" title="Moves a menu item to a new location using an optional offset.">moveItem</a>(hItem, rcOriginal[iButton], ptDlg);
                                }
                                ++iButton;
                        }
                }
        }

        <span class="keyword">delete</span> [] &amp;rcOriginal;
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a28f4dd7f401c4d9fab6cc32df148abb9"></a><!-- doxytag: member="Interface::lastDialogTemplateID" ref="a28f4dd7f401c4d9fab6cc32df148abb9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_interface.html#a28f4dd7f401c4d9fab6cc32df148abb9">Interface::lastDialogTemplateID</a> = 0<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab15dda69c4e9c6d29fd2e0eb886b2503"></a><!-- doxytag: member="Interface::nextAction" ref="ab15dda69c4e9c6d29fd2e0eb886b2503" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_interface.html#ab15dda69c4e9c6d29fd2e0eb886b2503">Interface::nextAction</a> = -1<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2e5779887cdacf4b61c14fbc3a2b7d29"></a><!-- doxytag: member="Interface::nextMessageText" ref="a2e5779887cdacf4b61c14fbc3a2b7d29" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const wchar_t * <a class="el" href="class_interface.html#a2e5779887cdacf4b61c14fbc3a2b7d29">Interface::nextMessageText</a> = NULL<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a9b18cbec245e7bab0bb635396c9cc5be"></a><!-- doxytag: member="Interface::nextReturnMenu" ref="a9b18cbec245e7bab0bb635396c9cc5be" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_interface.html#a9b18cbec245e7bab0bb635396c9cc5be">Interface::nextReturnMenu</a> = -1<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa45586569accd76c38aac50e59e82807"></a><!-- doxytag: member="Interface::slots" ref="aa45586569accd76c38aac50e59e82807" args="[4]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_interface.html#aa45586569accd76c38aac50e59e82807">Interface::slots</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/Misc/<a class="el" href="_interface_8h.html">Interface.h</a></li>
<li>src/Misc/<a class="el" href="_interface_8cpp.html">Interface.cpp</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Mon Oct 17 2011 23:42:32 for Ares by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
